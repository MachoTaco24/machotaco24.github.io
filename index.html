<!DOCTYPE html>
<html>
    <head>
        <title>TaCo-mputer</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link href="styles-homepage.css" rel="stylesheet" type="text/css"/>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:800i" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Abel" rel="stylesheet">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="default">
        <link rel="apple-touch-startup-image" href="machotaco24.github.io/images/Taco-clipart-2.ico">
        <script src="homepage.js" type="text/javascript"></script>
        <link rel="icon" href="machotaco24.github.io/images/Taco-clipart-2.ico">
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#2a2a2a">
        <meta name="msapplication-TileColor" content="#00aba9">
        <meta name="theme-color" content="#1e1e1e">
        <link rel="apple-touch-startup-image" href="apple-splash-640.png" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="apple-splash-750.png" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="apple-splash-1242.png" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="apple-splash-1125.png" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="apple-splash-1536.png" media="(min-devicewidth: 768px) and (max-device-width: 1024px) and (-webkit-min-device-pixel-ratio: 2) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="apple-splash-1668.png" media="(min-devicewidth: 834px) and (max-device-width: 834px) and (-webkit-min-device-pixel-ratio: 2) and (orientation: portrait)">
        <link rel="apple-touch-startup-image" href="apple-splash-2048.png" media="(min-devicewidth: 1024px) and (max-device-width: 1024px) and (-webkit-min-device-pixel-ratio: 2) and (orientation: portrait)">
        <link rel="manifest" href="/manifest.json">
        <script src="push.js" type="text/javascript"></script>
        <script src="main.js" type="text/javascript"></script>
    </head>
    <body>
        <div id="instructions">
            <button onClick="hideInstructions()">Close</button>
            <p>
                <img src="apple-touch-icon.png" alt="icon" />
            </p>
            <p>
                Install our app on your Home Screen for Quick Access.
            </p>
            <p>
                Tap <img src="images/share.png" alt="share"/> then <img
                    src="images/aths.png" alt="Add To Home Screen"/>
            </p>
        </div>
        <section id="addToHomeScreen">
            <h1>Install App</h1>
            <img src="android-chrome-192x192.png" alt="NCC CS" />
            Add our app to your home screen? <br/>
            <a href="javascript:void(0)" onClick="hidePrompt()" style="textdecoration: none;">No, Thanks</a>
            <button onClick="installApp()">Yes, Please!</button>
        </section>

        <div id="small-screen-logo-div">
            <img src="images/Tacomputer Logo 2.png" id="small-screen-logo"/>
        </div>
        <div class="parallax">
            <img src="images/Tacomputer Logo 2.png" id="parrallax-logo"/>
            <h1 class="scrolldown">SCROLL DOWN</h1>
        </div>

        <div id="grid">

            <div class="row" id="row_1">
                <a href="products.html">
                    <div class="col-sm-6" id="section_1">
                        <h1>PRODUCTS</h1>
                    </div>
                </a>
                <a href="submit_build.html">
                    <div class="col-sm-6" id="section_2">
                        <h1>SUBMIT A BUILD</h1>
                    </div>
                </a>
            </div>    
            <div class="row" id="row_2">
                <a href="gallery.html">
                    <div class="col-sm-12" id="section_3">
                        <h1>GALLERY</h1>
                        <div class="slider" id="main-slider">
                            <div class="slider-wrapper">
                                <img src="images/setup.jpg" alt="First" class="slide" />
                                <img src="images/gallery1.jpg" alt="Second" class="slide" />
                                <img src="images/gallery2.jpg" alt="Third" class="slide" />
                                <img src="images/gallery3.jpg" alt="Forth" class="slide" />
                                <img src="images/gallery4.jpg" alt="Fifth" class="slide" />
                                <img src="images/gallery5.jpg" alt="Sixth" class="slide" />
                            </div>
                        </div>	 
                    </div>
                </a>
            </div>   
            <div class="row" id="row_3">
                <a href="about.html">
                    <div class="col-sm-6" id="section_4">
                        <h1>ABOUT</h1>
                    </div>
                </a>
                <a href="support.html">
                    <div class="col-sm-6" id="section_5">
                        <h1>SUPPORT</h1>       
                    </div>
                </a>
            </div>    
        </div>

        <script>
            (function () {

                function Slideshow(element) {
                    this.el = document.querySelector(element);
                    this.init();
                }

                Slideshow.prototype = {
                    init: function () {
                        this.wrapper = this.el.querySelector(".slider-wrapper");
                        this.slides = this.el.querySelectorAll(".slide");
                        this.previous = this.el.querySelector(".slider-previous");
                        this.next = this.el.querySelector(".slider-next");
                        this.index = 0;
                        this.total = this.slides.length;
                        this.timer = null;

                        this.action();
                        this.stopStart();
                    },
                    _slideTo: function (slide) {
                        var currentSlide = this.slides[slide];
                        currentSlide.style.opacity = 1;

                        for (var i = 0; i < this.slides.length; i++) {
                            var slide = this.slides[i];
                            if (slide !== currentSlide) {
                                slide.style.opacity = 0;
                            }
                        }
                    },
                    action: function () {
                        var self = this;
                        self.timer = setInterval(function () {
                            self.index++;
                            if (self.index === self.slides.length) {
                                self.index = 0;
                            }
                            self._slideTo(self.index);
                        }, 5000);
                    }
                };
                document.addEventListener("DOMContentLoaded", function () {

                    var slider = new Slideshow("#main-slider");
                });
            })();
            function hideInstructions() {
                document.getElementById('instructions').style.display = 'none';
            }

            function hideInstructions() {
                document.getElementById('instructions').style.display = 'none';
            }
            //Service Worker Stuff
            if ('serviceWorker' in navigator) {
                pwaSupport = true;
                navigator.serviceWorker.register('machotaco24.github.io/sw.js', {scope: '/machotaco24.github.io/'}).then(function (result) {
                    console.log('Service Worker Registered');
                    console.log("Scope: " + result.scope);
                    if ('Notification' in window) {
                        console.log('Notications Supported');
                        Notification.requestPermission(function (status) {
                            console.log('Notification Permission: ', status);
                        });
                    }
                }, function (error) {
                    console.log('Service Worker Registration Failed');
                    console.log(error.toString());
                });
            } else {
                console.log('Service Worker Not Supported');
            }
                        self.addEventListener('push', function (evt) {
                console.log('Push Event Received');
                var options = {
                    body: 'New Products Await!',
                    icon: 'android-chrome-192x192.png',
                    data: {
                        timestamp: Date.now(),
                        loc: 'index.html#info'
                    },
                    actions: [
                        {action: 'go', title: 'Go Now'}
                    ]
                };
                evt.waitUntil(
                        self.registration.showNotification('TaCo-mputer', options)
                        );
            });
        </script>


</html>
